# Тестовое задание

- process_sales.py - скрипт для первого слайда 
- get_top_products.py - скрипт для подзадачи с первого слайда
- process_school_data.py - скрипт для задачи со второго слайда
- process_student_performance.py -скрипт для задачи с третьего слайда

- В папке output_data храняться результаты работы скриптов
- В папке html храняться скрипты в формате html (для ознакомления с решением, если не получиться его запустить локально)

## Скрипты

### 1. `process_sales.py`

**Описание**: 
Скрипт для обработки данных о продажах и продуктах.

**Функции**:
- Загрузка данных из CSV и JSON файлов.
- Объединение данных о продажах и продуктах.
- Вычисление общего объема продаж и средней цены продажи для каждой категории.
- Сохранение результатов в CSV файл.

**Использование**:
```bash
python scripts/process_sales.py
```

**Результат**:
- Сохранение файла category_sales_summary.csv с итоговыми данными.

### 2. `get_top_products.py`

**Описание**:
Скрипт для нахождения топ-3 продуктов по объему продаж в заданной категории.

**Функции**:
- Загрузка данных о продуктах и продажах.
- Фильтрация данных по заданной категории.
- Подсчет объема продаж и определение топ-3 продуктов.
- Сохранение результатов в CSV файл в папку `output_data`.

**Использование**:
```bash
python scripts/get_top_products.py
```

**Результат**:
- Вывод топ-3 продуктов по объему продаж на экран.
- Сохранение файла `top_products.csv` в папку `output_data`.

### 3. `process_school_data.py`

**Описание**:
Скрипт для обработки данных о школах и предметах, которые они предлагают.

**Функции**:
- Удаление школ, предлагающих менее 3 предметов.
- Очистка кодов штатов.
- Подсчет количества школ, предлагающих определенные предметы в каждом штате.
- Сохранение результатов в CSV файл.

**Использование**:
```bash
python scripts/process_school_data.py
```

**Результат**:
- Сохранение файла `processed_school_data.xlsx` с итоговыми данными.

### 4. `process_student_performance.py`

**Описание**:
Скрипт для анализа данных об успеваемости студентов.

**Функции**:
- Удаление студентов с отсутствующими оценками по 2 и более предметам.
- Замена отсутствующих оценок медианой.
- Очистка идентификаторов студентов.
- Расчет средневзвешенной оценки и фильтрация по ней.
- Сохранение результатов в CSV файл.

**Использование**:
```bash
python scripts/process_student_performance.py
```

**Результат**:
- Сохранение файла `processed_student_data.xlsx` с итоговыми данными.

## SQL Анализ

**Описание**:
Включает выполнение SQL-запросов для анализа данных в базе данных PostgreSQL.

**Задачи**:
- Расчет фактического времени каждой сделки без учета выходных дней.
- Подсчет среднего времени нахождения в каждом статусе и количества повторов статусов.

**Файлы**:
- `create_tables.sql`: SQL-скрипт для создания и наполнения таблиц `deal_status_log` и `calendar`.
- `calculate_deal_time.sql`: SQL-скрипт для расчета времени сделок.
- `calculate_status_time.sql`: SQL-скрипт для расчета времени статусов.

**Использование**:
- Для запуска SQL-скриптов необходимо подключние к вашей базе данных PostgreSQL для выполнения расчетов и анализа данных.
